<style>{`
  .full_image {
    width: 750px;
    margin: 20px;
  }
`}</style>

import { Steps } from '@theme';

# 录制启动阶段的 Trace 数据

Trace 支持录制 App 启动阶段 Trace 数据，这对于分析和优化 App 启动阶段的性能非常重要。

<Steps>
### 1. 点击 Startup Trace
在顶部栏点击 **Startup Trace**。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/startup-trace-config-latest.png"
  alt="启动阶段 Trace 配置"
  className="full_image"
/>

### 2. 设置启动阶段录制 Trace 的时间（单位：秒）

输入你期望的启动阶段录制 Trace 的时间，输入 **Enter** 或者点击 **Confirm** 保存配置。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/startup-trace-dur-latest.png"
  alt="启动阶段 Trace 时长"
  style={{
    width: '300px',
    margin: '20px',
  }}
/>

### 3. 重启应用

关闭并重新启动应用，Trace 会在下一次启动阶段自动录制 Trace 数据。

### 4. 加载启动阶段的 Trace 数据

应用启动完成后，选择需要分析的应用，然后点击 **Load Trace** 加载启动阶段录制的 Trace 数据。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/load-startup-trace-latest.png"
  alt="加载启动阶段的 Trace 数据"
  style={{
    width: '300px',
    margin: '20px',
  }}
/>

### 5. 查看启动阶段的 Trace 数据

启动阶段的 Trace 数据加载完成后，你将看到启动阶段的 Trace 数据可视化视图。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/load-startup-trace-success-latest.png"
  alt="成功加载启动阶段的 Trace"
  className="full_image"
/>

</Steps>

### 常见问题

##### 点击 Load Trace 后提示：Startup tracing is not enabled, cannot pull trace data

- 请确保在启动阶段 Trace 配置中设置了有效的时长（>0），然后在重启 App 后点击 **Load Trace**。
- 请确保在 App 启动过程中或启动后打开 Lynx 页面后再点击 **Load Trace**。

##### 点击 Load Trace 后提示：Startup tracing is in progress, please try again later

- App 启动阶段的 Trace 仍在录制中，请等待录制完成后再点击 **Load Trace**。
