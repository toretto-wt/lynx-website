---
date: 2025-04-29
sidebar: false
---

import { BlogAvatar, CodeFold } from '@lynx';
import { PackageManagerTabs } from '@theme';
import { Go } from '@lynx';
import { Tab, Tabs } from 'rspress/theme';

_April 30th, 2025_

# What’s new in Lynx 3.2

<BlogAvatar list={['shiwentao', 'lynx']} />

In [March 2025](blog/lynx-unlock-native-for-more) we launched [Lynx](https://github.com/lynx-family/lynx) as an open-source project and have since gathered valuable insights and feedback from the community. Thanks for your attention to and support for Lynx. Today, I'm pleased to share the latest updates on Lynx with all of you: Lynx 3.2 released! Lynx 3.2 contains enhancements and features focused on improving the development experience of Lynx and optimizing the performance of Lynx.

![lynx-in-3-2](https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/lynx-3-2.png)

Lynx 3.2 has updated the engine, framework, and tools. Specifically, the `list` Element, Grid Layout, Text Select, Rspeedy tools, ReactLynx testing tools and DevTool have all been improved, making the development process more efficient and leads to a significant improvement in performance. With over [296 commits](https://github.com/lynx-family/lynx/releases/) from 61 contributors (including some first-time contributors) who helped enhance the open-source project through documentation and feature contributions. Let’s explore what’s new!

## Engine

### `<list>` Element

In Lynx 3.2, we've enhanced the functionality of the `<list>` component to offer a better development experience. Additionally, we've conducted in-depth optimizations on its first-screen rendering and scrolling performance, enabling the `<list>` to deliver even better performance.

- **Feature Update**

1. Improved the [**magnetic positioning capability**](https://lynx.bytedance.net/api/components/built-in/list.html#item-snap) to make the paginated scrolling experience smoother. With this enhancement, developers can easily create an immersive information feed experience. Some complex interactions like carousels can also be easily implemented.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/list-snap.gif"
  example="list"
  defaultFile="src/horizontal-snap/index.tsx"
  defaultEntryFile="dist/horizontal-snap.lynx.bundle"
  highlight="{26}"
  entry="src/horizontal-snap"
/>

2. Added support for the [**z-index**](https://lynxjs.org/zh/api/css/properties/z-index.html) property on `<list-item>`, allowing for more flexible adjustment of the view hierarchy of list items.
   <Go
     img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/list-z-index.gif"
     example="list"
     defaultFile="src/zIndex/index.tsx"
     defaultEntryFile="dist/zIndex.lynx.bundle"
     highlight="{22}"
     entry="src/zIndex"
   />

- **Performance Optimization**

1. Optimization of multi-threaded **batch rendering** for child nodes: By asynchronously parsing attributes and adjusting the tree structure of subtrees, improving the rendering performance of the `<list>` during first-screen loading or data updates.

2. Optimization of the **asynchronous rendering mode** for `<list>`: Multiple strategies are added to address rendering integrity issues caused by asynchronous scheduling, bringing a more extreme scrolling experience.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/list-async-render.gif"
  example="list"
  defaultFile="src/async-rendering/index.tsx"
  defaultEntryFile="dist/async-rendering.lynx.bundle"
  highlight="{16}"
  entry="src/async-rendering"
/>

### Grid Layout

To resolve some difficulty in determining track sizes when using [Grid Layout](https://lynxjs.org/guide/ui/layout/grid-layout.html), Lynx 3.2 has introduced the W3C - standard layout keywords `minmax()`,`max-content`,`fit-content` in Grid track styles. These keywords can be used in conjunction with `grid-template-columns`, `grid-template-rows`, `grid-auto-columns`, and `grid-auto-rows` to help more precisely determine the size of the Grid container.

In the following example, there is a three-column grid. The first column has a fixed size of 20% of the container's width. The second column is sized according to its maximum content. The third column requires a minimum width of 50px for display and can expand to fit its maximum content, ultimately being restricted by the container. We can use `grid-template-columns: 20% max-content minmax(50px, max-content)` to achieve this layout.

<Go
  example="css"
  defaultFile="src/grid_layout/index.tsx"
  defaultEntryFile="dist/grid_layout.lynx.bundle"
  highlight="{24}"
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/grid-minmax.png"
  entry="src/grid_layout"
/>

### Text Select

In some complex cases, such as long article pages, each text element represents a paragraph, the ability to copy text across text elements is required. The Lynx 3.2 fully supports this ability, making the text-copying experience similar to that on the Web.

<Go
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/cross-text-select.gif"
  example="text"
  defaultFile="src/cross_text_selection/index.tsx"
  defaultEntryFile="dist/cross_text_selection.lynx.bundle"
  highlight="{28}"
  entry="src/cross_text_selection"
/>

### `Promise` based on `lynx.queueMicrotask`

In Lynx 3.2, micro-task API are implemented based on `lynx.queueMicrotask`, fulfilling the requirement for task preemption and supporting a more standard implementation of `Promise`. The corresponding differences in the execution of Promise can be verified through the following code. The Promise implementation that is not based on `lynx.queueMicrotask` (in versions prior to 3.2) behaves differently from that in browsers.

```js
setTimeout(() => {
  console.log('this is a timeout, will exec after');
}, 0);

Promise.resolve().then((value) => {
  console.log('this is a Promise, will exec before');
});
```

| Results in Lynx before 3.2                                                                                               | Results in Chrome                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------- |
| ![](https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/lynx-test-result.png) | ![](https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/chrome-test-result.png) |

### console series API

console series API such as `console.[count, countReset, group, groupCollapsed, groupEnd, time, timeLog, timeEnd]` have been added, which are implemented in alignment with the [W3C standard](https://developer.mozilla.org/en-US/docs/Web/API/console).

<center>
  <img
    src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/lynx-console.gif"
    width="400"
    height="400"
    align="center"
  />
</center>

## Rspeedy: Rslib and Rspack 1.3

Rspeedy [v0.9.0](https://github.com/lynx-family/lynx-stack/discussions/482) has been released. In v0.9.0 Rspeedy bundles with [Rslib](https://lib.rsbuild.dev/), shrinking the installation size by 50%. And the upgrade to [Rspack](https://rspack.dev/) [1.3](https://rspack.dev/blog/announcing-1-3) offers enhanced features such as quicker code splitting, a smaller bundle size, reduced memory consumption. Additionally, the release includes other enhancements like new CLI flags, configurations. For a comprehensive overview of these changes, explore the full CHANGELOG [`@lynx-js/rspeedy v0.9.0`](https://github.com/lynx-family/lynx-stack/blob/main/packages/rspeedy/core/CHANGELOG.md#090)

Upgrade now using the following command in your Rspeedy project:

```js
npx upgrade-rspeedy@latest
```

- **Bundle with Rslib**

![Rspeedy0-9-0](https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/Rspeedy0-9-0.png)

The `@lynx-js/rspeedy` package, along with all its plugins, is now bundled with Rslib, reducing the installation size by 50%—from 118 MB to just 53 MB. See [#395](https://github.com/lynx-family/lynx-stack/pull/395) for more details.

- **Upgrade to Rspack 1.3**

With the upgrade of Rspack 1.3, Rspeedy has achieved faster code splitting, smaller package size, lower memory consumption, and added the [CircularDependencyRspackPlugin](https://rspack.dev/plugins/rspack/circular-dependency-rspack-plugin) (which detects circular import dependencies between runtime modules). See [Announcing Rspack 1.3](https://rspack.dev/blog/announcing-1-3) for more details.

## ReactLynx Testing Library

[ReactLynx Testing Library](/react/react-lynx-testing-library/index) implements a set of testing solutions for ReactLynx components based on [Lynx Test Environment (@lynx-js/test-environment, JS implementation of Lynx)](/react/react-lynx-testing-library/lynx-test-environment.html). Similar to the DOM environment provided by tools like jsdom, implementing the [Element PAPI](https://lynxjs.org/api/engine/element-api) based on jsdom allows you to directly use tools such as [`@testing-library/dom`](https://github.com/testing-library/dom-testing-library) and [`@testing-library/jest-dom`](https://github.com/testing-library/jest-dom) to assist testing.

- **Appropriate scenarios**

ReactLynx Testing Library is suitable for unit testing of ReactLynx components. Based on `@testing-library/dom` (used for querying and triggering events of page elements), the rendering process of ReactLynx is abstracted into APIs similar to those of standard testing libraries, such as `render`. Users can also make assertions about elements on the page. For example, they can use `toBeInTheDocument` from `@testing-library/jest-dom` to determine whether an element exists on the page.

- **User Guide**

1. ReactLynx Testing Library is integrated into the `testing-library` subdirectory of the `@lynx-js/react` package and can be used directly. After configuring the [Vitest](https://vitest.dev/), you can start writing tests and running them.

```js
// vitest.config.js
import { defineConfig, mergeConfig } from 'vitest/config';
import { createVitestConfig } from '@lynx-js/react/testing-library/vitest-config';

const defaultConfig = createVitestConfig();
const config = defineConfig({
  test: {
    // ...
  },
});

export default mergeConfig(defaultConfig, config);
```

2. Here is a complete example of a basic rendering test case. For more testing usage methods, see [ReactLynx Testing Library](https://github.com/lynx-family/lynx-stack/tree/main/packages/react/testing-library/src/__tests__) for more details.

```js
import '@testing-library/jest-dom';
import { expect, it } from 'vitest';
import { render } from '@lynx-js/react/testing-library';

it('basic render', () => {
  const WrapperComponent = ({ children }) => (
    <view data-testid="wrapper">{children}</view>
  );
  const Comp = () => {
    return <view data-testid="inner" style="background-color: yellow;" />;
  };
  const { container, getByTestId } = render(<Comp />, {
    wrapper: WrapperComponent,
  });
  // Since Lynx Test Environment uses jsdom to implement Element PAPI at the bottom layer
  // you can use the method in `@testing-library/jest-dom` to assert whether the page element exists
  expect(getByTestId('wrapper')).toBeInTheDocument();
  expect(container.firstChild).toMatchInlineSnapshot(`
    <view
      data-testid="wrapper"
    >
      <view
        data-testid="inner"
        style="background-color: yellow;"
      />
    </view>
  `);
});
```

## DevTool

As you know, there is a screencast area on the left part of DevTool, mirroring the Lynx page on your device. You now have a switch to change the resolution to High Definition or Standard Definition. When the device connection is not stable, you can use SD mode to reduce data transmission bandwidth, which tends to be smoother.

Please visit the [DevTool Release](https://github.com/lynx-family/lynx-devtool/releases/tag/v0.0.2) to download the latest Desktop Application to experience it.

<center>
  <img
    src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/blog/news-in-3.2/devtoolsopt.gif"
    width="800"
    height="800"
  />
</center>

## Integration Guides

### Android

Refer to [integrate-with-existing-apps](https://lynxjs.org/guide/start/integrate-with-existing-apps.html#platform=ios), and update the dependency versions of Lynx and LynxService.

- **Update Lynx Version**

In the `build.gradle` or `build.gradle.kts` file of the project, update the version:

<Tabs groupId='update-lynx-3-2-with-existing-app'>
<Tab label="build.gradle">

```groovy title=build.gradle {3-6}
dependencies {
    // lynx dependencies
    implementation "org.lynxsdk.lynx:lynx:3.2.0"
    implementation "org.lynxsdk.lynx:lynx-jssdk:3.2.0"
    implementation "org.lynxsdk.lynx:lynx-trace:3.2.0"
    implementation "org.lynxsdk.lynx:primjs:2.12.0"
}
```

</Tab>
<Tab label="build.gradle.kts">

```groovy title=build.gradle.kts {3-6}
dependencies {
    // lynx dependencies
    implementation("org.lynxsdk.lynx:lynx:3.2.0")
    implementation("org.lynxsdk.lynx:lynx-jssdk:3.2.0")
    implementation("org.lynxsdk.lynx:lynx-trace:3.2.0")
    implementation("org.lynxsdk.lynx:primjs:2.12.0")
}
```

</Tab>
</Tabs>

- **Update LynxService Version**

In the `build.gradle` or `build.gradle.kts` file of the project, update the version:

<Tabs groupId='update-lynx-3-2-with-existing-app'>
<Tab label="build.gradle">
<CodeFold height={360} toggle>
```groovy title=build.gradle {8-24}
dependencies {
    // lynx dependencies
    implementation "org.lynxsdk.lynx:lynx:3.2.0"
    implementation "org.lynxsdk.lynx:lynx-jssdk:3.2.0"
    implementation "org.lynxsdk.lynx:lynx-trace:3.2.0"
    implementation "org.lynxsdk.lynx:primjs:2.12.0"

    // integrating image-service
    implementation "org.lynxsdk.lynx:lynx-service-image:3.2.0"

    // image-service dependencies, if not added, images cannot be loaded; if the host APP needs to use other image libraries, you can customize the image-service and remove this dependency
    implementation "com.facebook.fresco:fresco:2.3.0"
    implementation "com.facebook.fresco:animated-gif:2.3.0"
    implementation "com.facebook.fresco:animated-webp:2.3.0"
    implementation "com.facebook.fresco:webpsupport:2.3.0"
    implementation "com.facebook.fresco:animated-base:2.3.0"

    // integrating log-service
    implementation "org.lynxsdk.lynx:lynx-service-log:3.2.0"

    // integrating http-service
    implementation "org.lynxsdk.lynx:lynx-service-http:3.2.0"

    implementation "com.squareup.okhttp3:okhttp:4.9.0"

}

````
</CodeFold>
</Tab>

<Tab label="build.gradle.kts">
<CodeFold height={360} toggle>
```groovy title=build.gradle.kts {8-24}
dependencies {
    // lynx dependencies
    implementation("org.lynxsdk.lynx:lynx:3.2.0")
    implementation("org.lynxsdk.lynx:lynx-jssdk:3.2.0")
    implementation("org.lynxsdk.lynx:lynx-trace:3.2.0")
    implementation("org.lynxsdk.lynx:primjs:2.12.0")

    // integrating image-service
    implementation("org.lynxsdk.lynx:lynx-service-image:3.2.0-")

    // image-service dependencies, if not added, images cannot be loaded; if the host APP needs to use other image libraries, you can customize the image-service and remove this dependency
    implementation("com.facebook.fresco:fresco:2.3.0")
    implementation("com.facebook.fresco:animated-gif:2.3.0")
    implementation("com.facebook.fresco:animated-webp:2.3.0")
    implementation("com.facebook.fresco:webpsupport:2.3.0")
    implementation("com.facebook.fresco:animated-base:2.3.0")

    // integrating log-service
    implementation("org.lynxsdk.lynx:lynx-service-log:3.2.0")

    // integrating http-service
    implementation("org.lynxsdk.lynx:lynx-service-http:3.2.0")

    implementation("com.squareup.okhttp3:okhttp:4.9.0")
}
````

</CodeFold>
</Tab>
</Tabs>

### iOS

- **Update Lynx Version**

In the `Podfile` file of the project, update the version:

<CodeFold height={360} toggle>
```ruby title="Podfile" {1,6-8,10}
source 'https://cdn.cocoapods.org/'

platform :ios, '10.0'

target 'YourTarget' do
pod 'Lynx', '3.2.0', :subspecs => [
'Framework',
]

pod 'PrimJS', '2.12.0', :subspecs => ['quickjs', 'napi']
end

````
</CodeFold>

-  **Update LynxService Version**

In the `Podfile` file of the project, update the version:

<CodeFold height={360} toggle>
```ruby title="Podfile" {8-13,15-17}
source 'https://cdn.cocoapods.org/'
platform :ios, '10.0'
target 'YourTarget' do
  pod 'Lynx', '3.2.0', :subspecs => [
    'Framework',
  ]
  pod 'PrimJS', '2.12.0', :subspecs => ['quickjs', 'napi']
  # integrate image-service, log-service, and http-service
  pod 'LynxService', '3.2.0', :subspecs => [
      'Image',
      'Log',
      'Http',
  ]

  # ImageService
  pod 'SDWebImage','5.15.5'
  pod 'SDWebImageWebPCoder', '0.11.0'

end
````

</CodeFold>

## Conclusion

Thanks to the Lynx community, this release becomes possible! As a newly open-source project, we have high hopes for the future of Lynx. We can’t wait to see the use of Lynx in your apps.

In the future, we will gradually introduce more feature support as [planned](https://lynxjs.org/blog/lynx-open-source-roadmap-2025.html). For example, we'll add new components like `<Input>` and adapt to more platforms such as HarmonyOS and PC.

Please check the [release notes and changelog](https://github.com/lynx-family/lynx/releases/tag/3.2.0), and let’s embark on a new adventure!
